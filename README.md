# Melody to WAV Converter

This project is a simple Node.js application that converts a melody written in a custom format into a WAV audio file. It uses predefined note frequencies to generate the corresponding sine wave for each note in the melody.

## Features

- **Generate Frequencies:** Generates a JSON file containing frequencies for musical notes from C-4 to C12.
- **Melody Parsing:** Reads a melody file and translates the notes into corresponding frequencies and durations.
- **WAV File Generation:** Converts the parsed melody into a WAV file, with an optional base frequency offset.

## Files

- **`index.js`:** The main script that reads the melody from `melody.mel` and generates the `out.wav` file.
- **`generate-notes.js`:** Generates the `note_frequencies.json` file, which contains the frequencies for musical notes across several octaves.
- **`note_frequencies.json`:** A JSON file containing the frequencies for notes from C-4 to C12. This is generated by running `generate-notes.js`.
- **`melody.mel`:** A text file containing the melody in a custom format. The provided example is Beethoven's "Für Elise".
- **`out.wav`:** The output WAV file generated by `index.js` based on the melody in `melody.mel`.

## Melody File Format

The melody file (`melody.mel`) should follow this format:

- **Comments:** Lines starting with `//` are treated as comments.
- **Base Frequency Offset:** The first non-comment line should specify a base frequency offset, using the format `base=X`, where `X` is a float. This offset is added to the frequency of every note.
- **Notes:** Each subsequent line should specify a note and its duration, separated by a `#` symbol.
  - **Note:** The note should be in the format `[Note][Octave]` (e.g., `E5`, `C#4`). Alternatively, a frequency can be provided directly (e.g., `440` for A4).
  - **Duration:** The duration of the note in seconds.

### Example Melody File

```plaintext
// für elise
base=0
E5#0.5
D#5#0.5
E5#0.5
D#5#0.5
E5#0.5
B4#0.5
D5#0.5
C5#0.5
A4#1
C4#0.5
E4#0.5
A4#0.5
B4#1
E4#0.5
G#4#0.5
B4#0.5
C5#1
E4#0.5
E5#0.5
D#5#0.5
E5#0.5
D#5#0.5
E5#0.5
B4#0.5
D5#0.5
C5#0.5
A4#1
```